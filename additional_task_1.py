'''
В словаре types хранятся типы багов. Его ключи — числа от 1 до 5, а значения — от 'Блокирующий'  до 'Тривиальный' соответственно. 

types = {
    1: 'Блокирующий',
    2: 'Критический',
    3: 'Значительный',
    4: 'Незначительный',
    5: 'Тривиальный'
} 

В словаре tickets хранятся тикеты (задачи), которые заведены на эти баги. Ключи — числовое значение критичности от 1 до 5, а значения — список с тикетами, которые этим значениям критичности соответствуют. Но некоторые тикеты добавлены несколько раз в разные списки.

tickets = {
    1: ['API_45', 'API_76', 'E2E_4'],
    2: ['UI_19', 'API_65', 'API_76', 'E2E_45'],
    3: ['E2E_45', 'API_45', 'E2E_2'],
    4: ['E2E_9', 'API_76'],
    5: ['E2E_2', 'API_61']
} 

Составь итоговый словарь, где ключи — это значение критичности, например, 'Значительный', а значения — списки с уникальными тикетами. 
Для этого напиши две функции: 

    одна удаляет дубли из списков с тикетами,
    вторая связывает уровень критичности со списком уникальных тикетов.

Если тикет есть в одном списке, то он уже не может быть в списках на уровень ниже. 
Вторая функция принимает на вход два параметра: словарь types с типами багов и словарь tickets со списком багов. Функция возвращает словарь, где уровень критичности связан со списком уникальных тикетов.
Итоговый словарь должен получиться таким:

tickets_by_type = {
    'Блокирующий': ['API_45', 'API_76', 'E2E_4'],
    'Критический': ['UI_19', 'API_65', 'E2E_45'],
    'Значительный': ['E2E_2'],
    'Незначительный': ['E2E_9'],
    'Тривиальный': ['API_61']
} 

Вызывать функцию необязательно.
'''

types = {
    1: 'Блокирующий',
    2: 'Критический',
    3: 'Значительный',
    4: 'Незначительный',
    5: 'Тривиальный'
}

tickets = {
    1: ['API_45', 'API_76', 'E2E_4'],
    2: ['UI_19', 'API_65', 'API_76', 'E2E_45'],
    3: ['E2E_45', 'API_45', 'E2E_2'],
    4: ['E2E_9', 'API_76'],
    5: ['E2E_2', 'API_61']
}


def remove_duplicates(ticket_list):
    """Удаляет дубли из списка тикетов, сохраняя порядок первого появления."""
    return list(dict.fromkeys(ticket_list))


def link_tickets_by_type(types_dict, tickets_dict):
    """
    Связывает уровень критичности со списком уникальных тикетов.
    Тикет, уже попавший в более высокий уровень, не включается в уровни ниже.
    """
    result = {}
    seen_tickets = set()

    for level in sorted(types_dict.keys()):
        type_name = types_dict[level]
        level_tickets = tickets_dict.get(level, [])
        unique_in_list = remove_duplicates(level_tickets)
        # Оставляем только тикеты, которые ещё не встречались на уровнях выше
        tickets_for_level = [t for t in unique_in_list if t not in seen_tickets]
        seen_tickets.update(tickets_for_level)
        result[type_name] = tickets_for_level

    return result


tickets_by_type = link_tickets_by_type(types, tickets)
